# Deep Novelist

AIを活用した小説生成Webアプリケーションです。Ollamaと連携して、プロットから小説を生成します。生成過程はリアルタイムでストリーミング表示されます。

## 必要条件

- Python 3.8以上
- Ollama（ローカルまたはリモートサーバー）
  - 対応モデルがインストールされていること

## インストール

```bash
# リポジトリのクローン
git clone https://github.com/yourusername/deep-novelist.git
cd deep-novelist

# 依存パッケージのインストール
pip install -r requirements.txt
```

## 使い方

1. Ollamaサーバーの起動
```bash
# ローカルの場合
ollama serve

# または、リモートサーバーを使用する場合は
# そのサーバー上でollamaが起動していることを確認
```

2. アプリケーションの起動
```bash
python -m src.main
```

3. Webブラウザでアクセス
- ローカル: http://127.0.0.1:7861
- または表示されるGradio公開リンク

## Webインターフェースの使い方

1. Ollamaサーバーの設定
   - ローカルの場合：空欄のまま
   - リモートの場合：サーバーのIPアドレスを入力

2. 使用するモデルを選択
   - サーバーにインストールされているモデルが表示されます

3. プロットを入力
   - 生成したい物語のプロットを説明文で入力
   - 例：「主人公が異世界に転生し、魔法を使って冒険する物語」

4. 文体を指定（オプション）
   - 例：「ライトノベル調」「文学的な文体」など

5. 「小説を生成」ボタンをクリック
   - 生成過程がリアルタイムで表示されます
   - 完了すると自動的にファイルに保存されます

## 開発者向け情報

### テストの実行

```bash
pytest
```

### Dockerでの実行

```bash
# 開発環境の起動
docker compose up -d

# コンテナ内でのコマンド実行
docker compose exec app python -m src.main
```

## 注意事項

- Ollamaサーバーが実行中である必要があります
- 大規模な言語モデル（deepseek-coderなど）がサーバーにインストールされている必要があります
- 生成には時間がかかる場合があります
- 生成された小説は`generated_novel.txt`に自動保存されます

## ライセンス

このプロジェクトはMITライセンスの下で公開されています。
